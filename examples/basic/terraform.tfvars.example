
# Example configuration for AKS cluster scheduling via Logic Apps
# Copy this file to terraform.tfvars and update with your actual values

clusters = {
  my-cluster = {
    # Resource group where the AKS cluster is deployed
    resource_group  = "my-resource-group"

    # Azure region for the Logic App and related resources
    location        = "westeurope"

    # Subscription ID where the AKS cluster resides
    subscription_id = "00000000-0000-0000-0000-000000000000"

    # Name of the AKS cluster
    cluster_name    = "my-aks-cluster"

    # Start schedule configuration - weekdays at 9 AM
    start_schedule = {
      type   = "weekly"
      days   = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"]
      hour   = 9
      minute = 0
    }

    # Stop schedule configuration - weekdays at 6 PM
    stop_schedule = {
      type   = "weekly"
      days   = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"]
      hour   = 18
      minute = 0
    }

    # Enable or disable the start scheduling (set to false for holidays/maintenance)
    enabled_start   = true

    # Enable or disable the stop scheduling (set to false for holidays/maintenance)
    enabled_stop    = true
  }

  # Weekend cluster - different schedule
  weekend-cluster = {
    resource_group  = "weekend-rg"
    location        = "eastus"
    subscription_id = "11111111-1111-1111-1111-111111111111"
    cluster_name    = "weekend-aks"

    # Start on Sunday morning
    start_schedule = {
      type   = "weekly"
      days   = ["Sunday"]
      hour   = 8
      minute = 30
    }

    # Stop on Sunday evening
    stop_schedule = {
      type   = "weekly"
      days   = ["Sunday"]
      hour   = 20
      minute = 0
    }

    enabled_start = true
    enabled_stop  = true
  }

  # Monthly maintenance cluster example
  # maintenance-cluster = {
  #   resource_group  = "maintenance-rg"
  #   location        = "northeurope"
  #   subscription_id = "22222222-2222-2222-2222-222222222222"
  #   cluster_name    = "maintenance-aks"
  #
  #   # Start on 1st Monday of each month
  #   start_schedule = {
  #     type   = "monthly"
  #     week   = 1
  #     day    = "Monday"
  #     hour   = 7
  #     minute = 0
  #   }
  #
  #   # Stop on 1st Monday evening
  #   stop_schedule = {
  #     type   = "monthly"
  #     week   = 1
  #     day    = "Monday"
  #     hour   = 19
  #     minute = 0
  #   }
  #
  #   enabled_start = true
  #   enabled_stop  = true
  # }
}
